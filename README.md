
C:\Users\Sudarshan\Pictures\Github_Code_IRRA>IRRA_BACKEND 
1) Application Server
   1) Fno_Open_Pos GRPC Microservice
   2) Fno_Ord_Dtls GRPC Microservice
   3) Comd_Open_Pos GRPC Microservice
   4) MTF_OPEN_POS GRPC Microservice

2) Web Server :- Web Server Acts as GRPC Client and Receives Grpc Request from Micorservices
   
=> Generic Microservice Documentation Template
   1) Introduction
      This document outlines the design and implementation details of a generic microservice that provides functionality through gRPC and interacts with a PostgreSQL database. This template can be used to document various microservices are Fno_Open_Pos, Fno_Ord_Dtls, Comd_Open_Pos, and MTF_Open_Pos.

   2) Purpose :- 
      The microservice aims to:
            => Provide a reliable gRPC interface for querying specific data (e.g., positions, order details).
            => Efficiently retrieve and process data from a PostgreSQL database.
            => Serve the requested information to clients in a structured format.

   3. Architecture Overview

    =>  The microservice follows a Hexagonal Architecture (also known as Ports and Adapters Architecture). This design separates the core business logic from external concerns, such as database access and gRPC communication, ensuring modularity, testability, and adaptability.

    4. Project Structure
         =>  The project is organized into several key packages representing different layers of the Hexagonal Architecture:

      1) cmd: Contains the main entry point for the application.
         - main.go: Initializes and starts the gRPC server.

      2) config: Manages configuration loading and database connection setup.
         - config.go: Defines the configuration manager responsible for loading configuration files and managing database connections.

      3) repository: Contains data access logic and interacts with the PostgreSQL database.
         - repository.go: Defines the repository with methods for querying data from the database.

      4) service: Implements the core business logic and interacts with the gRPC server.
         - service.go: Defines the service that handles gRPC requests and uses the repository to fetch and process data.

      5) generated/: Contains auto-generated code from Protocol Buffers definitions.
         - service.pb.go: Generated by protoc, defines the gRPC service and message types.

      6) internal/models: Defines data models and structures used within the repository and service layers.
         - models.go: Includes data models and utility functions for database interaction.

      7)  proto: Contains Protocol Buffer (.proto) definitions.
         - service.proto: Defines the gRPC service interfaces and message structures.


    5) gRPC Basics

      gRPC (gRPC Remote Procedure Calls) enables communication between client and server applications through defined service methods and message types. Protocol Buffers (protobuf) are used for defining service interfaces and serializing messages.
   
   6) gRPC in the Microservice

      1) Service Definition:
         - The gRPC service is defined in the .proto file, which specifies methods such as GetPosition, GetOrderDetails.
         - Clients interact with the service by sending requests to these methods.

      2) gRPC Server Setup:
         - The server is initialized and the service is registered in main.go.
         - The server listens on a specified port (e.g., 50051) for incoming client requests.

      3) Request Handling:
         - When a client sends a request, the gRPC server routes it to the appropriate service method.
         - The service interacts with the repository to query the database and retrieve the necessary data.

      4)  Response Formation:
         - The service processes the retrieved data, formats it into a protobuf message, and sends it back to the client.

      5)  Communication Protocol:
         - gRPC uses HTTP/2 as the transport protocol, enabling efficient communication.
         - Messages are serialized using Protocol Buffers for compact and efficient data exchange.

      6)  Operational Flow

          1)  Initialization:
             - The service loads configuration settings from an external INI file.
             - Establishes a connection to the PostgreSQL database using the loaded configuration.

          2)  gRPC Server Setup:
             - The gRPC server is set up, and the service is registered.
             - The server starts listening on a specified port (e.g.50051).

          3.  Request Handling:
             - The server handles incoming requests by invoking the appropriate service method.
             - The service method queries the repository for data and processes it as needed.

          4.  Response Delivery:
             - The service formats the response data according to the protobuf schema.
             - The server sends the response back to the client.

           5.  Configuration Details

          - Database Configuration:
            - PostgreSQL is used as the database. Configuration details such as host, port, username, password, and database name are specified in an external INI file.
            - Ensure that the database is accessible and that the configuration is correct to avoid connection issues.

          - gRPC Configuration:
            - The gRPC server listens on a specified port (e.g., 50051). Ensure that this port is open and not used by other services.

      7) Testing :- 
         1) FNO_Open_Pos :- 
             http://localhost:8080/getFNOPosition/8509001158

         
            
         2) Fno_Ord_Dtls :- 
             http://localhost:8080/getOrderDetails/8509017260 
         
         3) Commodities_Open_Pos
             http://localhost:8080/GetCommodityPositions/8509041984
         
         4) MTF_Equity Open Positions
            http://localhost:8080/GetMtfPosition/8500016189 


# Ports
grpc_server_address_1 = localhost:50051  //FNO_OPen
grpc_server_address_2 = localhost:50052  //FNO_Order_DTLS
grpc_server_address_3 = localhost:50053  //Commodities_Open_Pos
grpc_server_address_4 = localhost:50054  //MTF_Open_Pos


# Webserver :- 
  => '8080'
